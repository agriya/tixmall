<div class="section pr fixed-banner">
    <div class="cover-image" style="background-image : url('../images/login-bg.jpg')"></div>
</div>
<div class="section fa-inverse">
    <div class="container">
        <div class="row pspace9">
            <div class="clearfix text-center">
                <ul class="breadcrumb list-group-item-text">
                    <li> <span>{{'CHOOSE TICKETS'|translate}}</span> </li>
                    <li> <span>{{'YOUR BASKET'|translate}}</span> </li>
                    <li class=""> <span href="#">{{'DELIVERY METHOD'|translate}}</span> </li>
                    <li class="active"> <strong>
                <span href="#">{{'PAYMENT'|translate}}</span>
                </strong> </li>
                    <li class=""> <span href="#">{{'CONFIRMATION'|translate}}</span> </li>
                </ul>
            </div>
            <div class="clearfix">
                <div class="well-sm"></div>
                <div class="col-sm-6 col-xs-6">
                    <h3 class="navbar-btn row">{{'PAYMENT DETAILS'|translate}}</h3>
                </div>
                <div class="col-sm-6 col-xs-6 text-right"> <img src="../images/ticketing-secure-badge.png" class="img-responsive pull-right navbar-btn row" alt="secure booking"> </div>
            </div>
            <div class="clearfix">
                <div class="thumbnail transparency clearfix">
                    <div class="col-sm-8">
                        <div class="panel no-border navbar-btn panel-default">
                            <div class="panel-body">
                                <form class="form-alter" name="saved_cards_details">
                                    <div class="form-group">
                                        <div class="radio" ng-repeat="saved_card_detail in payment.saved_card_details"> <label for="card_{{saved_card_detail.id}}">  
                                                <input type="radio" name="customer_id" ng-value="saved_card_detail.customer_id" id="card_{{saved_card_detail.id}}" ng-model="payment.paymentDetails.customer_id" ng-change="payment.selectsavedCard(saved_card_detail.customer_id)">                                           
                                                    <span class=""> XXXXXXXXXXXX{{saved_card_detail.masked_cc}}</span>
                                            </label> </div>
                                        <div class="radio" ng-show="payment.saved_card_details.length > 0"> <label for="other_card">  
                                                <input type="radio" name="customer_id" ng-value="other" id="other_card" ng-model="payment.paymentDetails.customer_id" ng-change="payment.selectOther()">                                           
                                                    <span class="">Other</span>
                                            </label> </div>
                                    </div>
                                </form>
                                <form role="form" class="form-alter" id="creditcard" name="creditcard" ng-submit="payment.confirmPurchase()" autocomplete="off" novalidate ng-show="payment.show_payment_form">
                                    <div class="form-group" ng-class="{ 'has-error': creditcard.name.$dirty && creditcard.name.$invalid || (creditcard.$submitted && creditcard.name.$invalid) }"> <label class="control-label" for="name">{{'Name on Card'|translate}}&nbsp;<span class="text-danger">*</span></label> <input class="form-control" name="name" ng-model="payment.paymentDetails.name" id="name" placeholder="Name on Card"
                                            type="text" ng-required="true">
                                        <div class="help-block text-danger" ng-if="creditcard.name.$dirty || creditcard.$submitted" ng-messages="creditcard.name.$error" role="alert">
                                            <div ng-message="required">{{'Please select a value for this field'|translate}}.</div>
                                        </div>
                                    </div>
                                    <div class="form-group"> <label class="control-label" for="accepted_cards">{{'Accepted Cards'|translate}}<span class="text-danger">*</span></label>
                                        <ul class="accepted-cards__list list-unstyled">
                                            <li title="Visa" class="accepted-card accepted-card--visa">{{'Visa'|translate}}</li>
                                            <li title="MasterCard" class="accepted-card accepted-card--mastercard">{{'MasterCard'|translate}}</li>
                                            <li title="Maestro" class="accepted-card accepted-card--maestro">{{'Maestro'|translate}}</li>
                                            <li title="American Express" class="accepted-card accepted-card--amex">{{'American Express'|translate}}</li>
                                        </ul>
                                    </div>
                                    <div class="form-group" ng-class="{ 'has-error': creditcard.credit_card_number.$dirty && creditcard.credit_card_number.$invalid || (creditcard.$submitted && creditcard.credit_card_number.$invalid) }"> <label class="control-label" for="credit_card_number">{{'Card Numeber'|translate}}&nbsp;<span class="text-danger">*</span></label> <input class="form-control" id="credit_card_number" ng-model="payment.paymentDetails.credit_card_number"
                                            name="credit_card_number" placeholder="Card Number" ng-pattern="GeneralConfig.Number" type="text" ng-required="true" ng-minlength="15">
                                        <div class="help-block text-danger" ng-if="creditcard.credit_card_number.$dirty || creditcard.$submitted"
                                            ng-messages="creditcard.credit_card_number.$error" role="alert">
                                            <div ng-message="required">{{'Credit card required'|translate}}.</div>
                                            <div ng-message="pattern">{{'Credit card must consist of only numbers'|translate}}.</div>
                                            <div ng-message="minlength">{{'Credit card must be 15-19 digits'|translate}}.</div>
                                        </div>
                                    </div>
                                    <div class="form-group" ng-class="{ 'has-error': creditcard.cvc.$dirty && creditcard.cvc.$invalid || (creditcard.$submitted && creditcard.cvc.$invalid) }"> <label class="control-label" for="cvc">{{'Security Code'|translate}}<span class="text-danger">*</span></label> <input class="form-control" ng-model="payment.paymentDetails.cvc" name="cvc" id="cvc" placeholder="{{'Security Code'|translate}}"
                                            type="password" ng-pattern="GeneralConfig.Number" ng-minlength="3" ng-required="true">
                                        <div class="help-block text-danger" ng-if="creditcard.cvc.$dirty || creditcard.$submitted" ng-messages="creditcard.cvc.$error"
                                            role="alert">
                                            <div ng-message="required">{{'Security code required'|translate}}.</div>
                                            <div ng-message="pattern">{{'Security code must contain only numbers'|translate}}.</div>
                                            <div ng-message="minlength">{{'Security code must be 3-4 digits'|translate}}.</div>
                                        </div>
                                        <div class="well-sm"></div> <span>{{'Your card security code is the code printed on the back of your card'|translate}}.</span> </div>
                                    <div class="form-group" ng-class="{ 'has-error': ((creditcard.exp_month.$dirty && creditcard.exp_month.$invalid) || (creditcard.exp_month.$dirty && creditcard.exp_month.$invalid)) || (creditcard.$submitted && (creditcard.exp_month.$invalid || creditcard.exp_year.$invalid) )  }">
                                    <label class="control-label" for="exp_month">{{'Expiry Date'|translate}}<span class="text-danger">*</span></label>
                                        <div class="col-sm-12 row">
                                            <div class="col-sm-3 col-xs-5 row"> <select class="form-control" id="exp_month" ng-model="payment.paymentDetails.exp_month" name="exp_month" ng-required="true">
                                                    <option>{{'Please select month'|translate}}</option>
                                                    <option value="01">01</option>
                                                    <option value="02">02</option>
                                                    <option value="03">03</option>
                                                    <option value="04">04</option>
                                                    <option value="05">05</option>
                                                    <option value="06">06</option>
                                                    <option value="07">07</option>
                                                    <option value="08">08</option>
                                                    <option value="09">09</option>
                                                    <option value="10">10</option>
                                                    <option value="11">11</option>
                                                    <option value="12">12</option>
                                             </select> </div>
                                            <div class="col-sm-3 col-xs-5"> <select class="form-control" id="exp_year" ng-model="payment.paymentDetails.exp_year" name="exp_year" ng-required="true">
                                                <option>{{'Please select year'|translate}}</option>
                                                <option value="2016">2016</option>
                                                <option value="2017">2017</option>
                                                <option value="2018">2018</option>
                                                <option value="2019">2019</option>
                                                <option value="2020">2020</option>
                                                <option value="2021">2021</option>
                                                <option value="2022">2022</option>
                                                <option value="2023">2023</option>
                                                <option value="2016">2024</option>
                                                <option value="2016">2025</option>
                                                <option value="2016">2026</option>
                                             </select> </div>
                                            <div class="clearfix col-xs-12">
                                                <div class="help-block text-danger" ng-if="creditcard.exp_month.$dirty || creditcard.$submitted" ng-messages="creditcard.exp_month.$error" role="alert">
                                                    <div ng-message="required">{{'Expiration month required'|translate}}.</div>
                                                </div>
                                                <div class="help-block text-danger" ng-if="creditcard.exp_year.$dirty || creditcard.$submitted" ng-messages="creditcard.exp_year.$error" role="alert">
                                                    <div ng-message="required">{{'Expiration year required'|translate}}.</div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="well-sm"></div>
                                    <div class="checkbox"> <label><input type="checkbox" name="is_saved" ng-model="payment.paymentDetails.is_saved">{{'Save this card for next time use'|translate}}.</label> </div>
                                    <div class="checkbox"> <label>
                                            <input type="checkbox" ng-required="true" ng-model="agree" name="agree">{{'I agree to the Terms and Conditions'|translate}} &nbsp;<span class="text-danger">*</span></label>
                                        <div class="help-block text-danger"
                                            ng-if="creditcard.agree.$dirty || creditcard.$submitted" ng-messages="creditcard.agree.$error" role="alert">
                                            <div class="text-danger" ng-message="required">{{'Please agree terms and conditions.'|translate}}</div>
                                        </div>
                                    </div> <a href="#!/pages/2/terms-and-conditions" class="text-danger "> <b>{{'Terms and Conditions'|translate}}</b></a> </form>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-4 text-xs-right form-alter">
                        <div class="well-sm"></div> <span ng-hide="isOpen">{{'Have a gift certificate?' | translate}}&nbsp;<a href="" ng-click="isOpen = !isOpen" class="text-danger">{{'Click here to apply'|translate}}</a></span>
                        <h4 class="text-uppercase" ng-show="isOpen">{{'Apply your gift certificate'|translate}}:</h3>
                            <div class="input-group col-xs-8 pull-right" ng-show="isOpen"> <input type="text" class="form-control input-sm" ng-model="payment.coupon_code"> <span class="input-group-btn input-group-sm">
                            <a class="btn btn-danger btn-sm text-uppercase" ng-click="payment.check(payment.coupon_code)" >{{'APPLY'|translate}}</a>
                        </span> </div>
                    </div>
                </div>
                <h3>{{'ORDER SUMMARY'|translate}}</h3>
                <div clas="row">
                    <div class="col-sm-12 bg-danger border-top-side  hidden-xs">
                        <div class="col-sm-6 well-sm text-sm-center"> <strong>Item(s)</strong> </div>
                        <div class="col-sm-2 well-sm text-sm-center"> <strong>{{'Quantity'|translate}}</strong> </div>
                        <div class="col-sm-2 well-sm text-sm-center"> <strong>{{'Price'|translate}}</strong> </div>
                        <div class="col-sm-2 well-sm text-sm-center"> <strong>{{'Total'|translate}}</strong> </div>
                    </div>
                </div>
                <div clas="row">
                    <div class="col-sm-12 border-top-side" ng-repeat="item in Cart.getCart().items track by $index">
                        <div class="navbar-btn"></div>
                        <div class="col-sm-6 well-sm">
                            <h3 class="list-group-item-heading text-uppercase "> <b>{{item.getName()}}</b> </h3>
                            <ul class="list-unstyled ">
                                <li ng-show="item.getName() !== 'Gift Voucher'">
                                    <p class="list-group-item-heading" ng-show="item.getDatat().event_start_date"> <small>{{item.getDatat().event_start_date | moment:'dddd, DD MMM YYYY hh:mm A'}} - {{item.getDatat().event_end_date | moment:'dddd, DD MMM YYYY hh:mm A'}}</small> </p>
                                </li>
                                <li ng-show="item.getName() !== 'Gift Voucher'">
                                    <p class="list-group-item-heading" ng-show="item.getData().zone_name"> <small>{{item.getData().zone_name}},&nbsp;{{item.getData().venue_zone_section_name}},&nbsp;{{'Row'|translate}}&nbsp;{{item.getData().venue_zone_section_row_name}},&nbsp;{{'Seat'|translate}}&nbsp;{{item.getData().seat_name}}</small></p>
                                </li>
                                <li ng-show="item.getName() !== 'Gift Voucher'">
                                    <p class="list-group-item-heading"> <small>{{item.getQuantity()}}x {{item.getData().price.name}}</small> </p>
                                </li>
                            </ul>
                            <div class="well-lg hidden-xs"></div>
                            <div ng-if="$last">
                                <p>{{'Tickets(s)'|translate}}&nbsp; <a href="#!/pages/2/terms-and-conditions"> <span class="text-danger ">{{'Terms and Condtions'|translate}}</span></a>&nbsp;{{'apply to your tickets'|translate}}.</p>
                                <p>{{'Restricted Viewing'|translate}}.</p>
                            </div>
                        </div>
                        <div class="col-sm-2 well-sm text-sm-center"> <span>
                    <strong class="visible-xs col-xs-2 price_details row">{{'Quantity'|translate}}:&nbsp;</strong>{{item.getQuantity()}}</span> </div>
                        <div class="col-sm-2 well-sm text-sm-center"> <span>
                    <strong class="visible-xs col-xs-2 price_details row">{{'Price'|translate}}:&nbsp;</strong>{{formatCurrency(item.getPrice()) | currency : selectedCurrency.currency_symbol : GeneralConfig.fraction}}</span> </div>
                        <div class="col-sm-2 well-sm text-sm-center">
                        <span>
                    <strong class="visible-xs col-xs-2 price_details row">{{'Total'|translate}}:&nbsp;</strong>{{formatCurrency(item.getTotal()) | currency : selectedCurrency.currency_symbol : GeneralConfig.fraction}}</span> </div>
                    </div>
                    <!-- doantion amount -->
                    <div class="col-sm-12 border-top-side" ng-if="Cart.getDonationAmount() !== 0">
                        <div class="navbar-btn"></div>
                        <div class="col-sm-6 well-sm ">
                            <div class="">
                                <h3 class="list-group-item-heading text-uppercase navbar-btn"> <b>{{'General Donation'|translate}}</b> </h3>
                            </div>
                        </div>
                        <div class="col-sm-2 well-sm clrBoth"> <span>
                            <strong class="visible-xs col-xs-2 price_details row">{{'Quantity'|translate}}:&nbsp;</strong></span> </div>
                        <div class="col-sm-2 well-sm clrBoth"> <span>
                            <strong class="visible-xs col-xs-2 price_details row">{{'Price'|translate}}:&nbsp;</strong>{{formatCurrency(Cart.getDonationAmount()) | currency : selectedCurrency.currency_symbol : GeneralConfig.fraction}}</span> </div>
                        <div
                            class="col-sm-2 well-sm clrBoth"> <span>
                            <strong class="visible-xs col-xs-2 price_details row">{{'Total'|translate}}:&nbsp;</strong>{{formatCurrency(Cart.getDonationAmount()) |  currency : selectedCurrency.currency_symbol : GeneralConfig.fraction}}</span> </div>
                </div>
            </div>
            <div clas="row">
                <div class="col-sm-12 border">
                    <div class="navbar-btn"></div>
                    <div class="col-sm-6 well-sm">
                        <h3 class="list-group-item-heading "> <b>{{'STANDARD HANDLING FEE'|translate}}</b>&nbsp; <small>
                        <my-modal body="In order to cover the total cost of providing our Box Office Service we charge a Payment Handling Fee which is 2% of the total transaction value and a Transaction Processing Fee of £2.50 per ticket. For the BBC Proms the transaction processing fee is £2.00 per ticket (except Advance Sale Promming tickets where it is £1.00 per ticket), up to a maximum of £25.00. Please note that different charges may apply when booking hospitality and some other events." name="Standard Handling Fees"><span class="text-danger">{{'WHAT\'S THIS?'|translate}}</span></my-modal>
                    </small> </h3>
                    </div>
                    <div class="col-sm-2 well-sm hidden-xs">&nbsp;</div>
                    <div class="col-sm-2 well-sm hidden-xs">&nbsp;</div>
                    <div class="col-sm-2 well-sm text-sm-center"> <span>
                    <strong class="visible-xs col-xs-2 price_details row">{{'Price'|translate}}:&nbsp;</strong>{{formatCurrency(((2/100)*Cart.totalCost())* Cart.getTotalItems()) |  currency : selectedCurrency.currency_symbol : GeneralConfig.fraction}}</span>                        </div>
                </div>
            </div>
        </div>
        <div class="clearfix">
            <div class="text-right well-sm"> <span class="text-muted h4 ">
                <b>{{'Basket Total'|translate}}:
                  <span class="fa-inverse ">&nbsp;{{formatCurrency(((2/100)*Cart.totalCost()) * Cart.getTotalItems()+ Cart.totalCost() + Cart.getDonationAmount()) |  currency : selectedCurrency.currency_symbol : GeneralConfig.fraction}}</span> </b>
                </span>
            </div>
        </div>
        <div class="clearfix" ng-show="payment.gift_voucher_available_amount > 0">
            <div class="text-right well-sm"> <span class="text-muted h4 ">
                <b>{{'Gift voucher Amount'|translate}}:
                  <span class="fa-inverse ">&nbsp;{{formatCurrency(payment.gift_voucher_available_amount) |  currency : selectedCurrency.currency_symbol : GeneralConfig.fraction}}</span> </b>
                </span>
            </div>
        </div>
        <div class="clearfix" ng-show="payment.gift_voucher_available_amount > 0">
            <div class="text-right well-sm"> <span class="text-muted h4 ">
                <b>{{'Basket Total'|translate}}:
                  <span class="fa-inverse ">&nbsp;{{ formatCurrency(payment.total_amount) |  currency : selectedCurrency.currency_symbol : GeneralConfig.fraction}}</span> </b>
                </span>
            </div>
        </div>
        <hr class="navbar-btn">
        <div class="row">
            <div class="col-sm-12">
                <div class="pull-left"> <a class="btn custom-section btn-sm text-uppercase" href="#!/booking/basket">{{'CANCEL'|translate}}</a> </div>
                <div class="pull-right"> <input class="btn btn-danger btn-sm text-uppercase" type="submit" form="creditcard" value="{{'CONFIRM PURCHASE'|translate}}" /> </div>
                <div class="clearfix"></div>
            </div>
        </div>
    </div>
</div>
</div>